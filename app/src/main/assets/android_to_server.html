

<!DOCTYPE HTML>
<html lang="ko">
<head>
    <title>javaScriptTest</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- 반응형 구조 만들기 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/>

    <!-- 자바 스크립트 및 j쿼리 파일 -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>



    <!-- 내부 자바스크립트 J쿼리 이벤트 지정 -->
    <script>
    	var uagent = navigator.userAgent.toLowerCase(); //<!-- 유저에이전트 문자열을 얻어 소문자로 변환-->
    	var android_agent = uagent.search("android");
    	var iphone = uagent.search("iphone");
    	var ipad = uagent.search("ipad");



    	//<!-- 모바일 디바이스 > JS -->
    	function receive_Close(returnData) {
    		//<!-- 안드로이드에서 전달받음 -->
        	if (android_agent > -1) {
        		alert('Mobile > JS [Close] [A] [DATA] : '+returnData);
        	}
        	//<!-- IOS에서 전달받음 -->
        	else if (iphone > -1 || ipad > -1) {
            	alert('Mobile > JS [Close] [I] [DATA] : '+data);
        	}
    	}

    	//<!-- JS > 모바일 디바이스 -->
    	function send_Open() {
    		//<!-- 안드로이드로 보낸다 -->
        	if (android_agent > -1) {
        		window.android.open(data);
        	}
        	//<!-- IOS로 보낸다 -->
        	else if (iphone > -1 || ipad > -1) {
            	window.location = 'open:';
        	}
    	}

    	//<!-- JS > 모바일 디바이스 -->
    	function send_Close() {
    		//<!-- 안드로이드로 보낸다 -->
        	if (android_agent > -1) {
        		window.android.close('JS TO Mobile');
        	}
        	//<!-- IOS로 보낸다 -->
        	else if (iphone > -1 || ipad > -1) {
            	window.location = 'close:JS TO Mobile';
        	}
    	}

    	//<!-- 버튼 클릭 이벤트 정의 -->
    	$(document).ready(function(){
    		$("#open_btn").click(function(){
        		alert('JS > Mobile : open() 메소드 호출 실시');

        		//<!-- 자바스크립트 함수를 호출해서 모바일 디바이스 별 구분 처리 실시 -->
            	send_Open();
        	});

        	$("#close_btn").click(function(){
        		alert('JS > Mobile : close() 메소드 호출 실시');

        		//<!-- 자바스크립트 함수를 호출해서 모바일 디바이스 별 구분 처리 실시 -->
            	send_Close();
        	});
    	});
</script>
</head>
<body>
<!-- 부모 레이아웃 -->
<div id = "parent_container">

    <!-- 헤더 레이아웃 -->
    <div id = "header_container">
        <p>JavaScriptTest Program</p>
    </div>

    <!-- 콘텐츠 레이아웃 -->
    <div id = "content_container">
        <div id = "content_sub_1_explanation">
            <p>[ Mobile To JavaScript Interface 연동 테스트입니다 ]</p>
        </div>
        <div id = "content_sub_2_explanation">
            <p>1. [JS > Mobile] : [open() 일반], [close() 데이터 전달] 버튼을 클릭하시면 자바스크립트에서 모바일 기기의 open, close 메소드를 호출합니다</p>
        </div>
        <div id = "content_sub_3_explanation">
            <p>2. [Mobile > JS] : 모바일 기기에서 자바스크립트 receive_Open(), receive_Close() 함수를 호출합니다</p>
        </div>

        <div id = "content_open_btn">
            <a href="javascript:;" id="open_btn"> [JS > Mobile : open() [NONE] 버튼] </a>
        </div>

        <div id = "content_close_btn">
            <a href="javascript:;" id="close_btn"> [JS > Mobile : close() [DATA] 버튼] </a>
        </div>

    </div>

</div>
</body>
</html>